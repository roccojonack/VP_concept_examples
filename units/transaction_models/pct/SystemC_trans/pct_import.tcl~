::pct::new_project
::pct::open_library TLM2_PL
#Import NoC
::pct::clear_systemc_defines
::pct::clear_systemc_include_path
::pct::add_to_systemc_include_path /workarea/tickets/profiling/simple/generated_ref/include
::pct::set_import_protocol_generation_flag false
::pct::set_update_existing_encaps_flag true
::pct::set_dynamic_port_arrays_flag true
::pct::set_import_scml_properties_flag true
exec make -j 4 -C /workarea/tickets/profiling/simple/generated_ref/Specification_Architecture_Structure -f Makefile.scc static 2> /workarea/tickets/profiling/simple/generated_ref/Specification_Architecture_Structure/make.err
::pct::load_modules --set-category modules /workarea/tickets/profiling/simple/generated_ref/pct_import.cc
#Set Port Protocols correctly
foreach block {Specification Specification_Architecture_StructureVV Specification_Architecture} {
    foreach clock {Clk } {
	::pct::set_block_port_protocol --set-category SYSTEM_LIBRARY:$block/$clock SYSTEM_LIBRARY:CLOCK
    }
    foreach reset {RstN } {
        ::pct::set_block_port_protocol --set-category SYSTEM_LIBRARY:$block/$reset SYSTEM_LIBRARY:RESET
    }
}

set block SYSTEM_LIBRARY:Specification
::pct::merge_blocks SYSTEM_LIBRARY:Specification_Architecture_StructureVV $block --convert-mappings
::pct::merge_blocks SYSTEM_LIBRARY:Specification_Architecture $block --convert-mappings
::pct::set_encap_build_script $block/Specification /workarea/tickets/profiling/simple/generated_ref/arteris_build.tcl
::pct::set_default_encap $block Specification
::pct::set_encap_build_script $block/Specification_Architecture_StructureVV /workarea/tickets/profiling/simple/generated_ref/arteris_build.tcl
::pct::set_encap_build_script $block/Specification_Architecture /workarea/tickets/profiling/simple/generated_ref/arteris_build.tcl

::pct::set_image $block /workarea/tickets/profiling/simple/generated_ref/arteris_logo.png center center false true
::pct::set_background_color_rgb $block 255 255 255 255


#::pct::set_local_memory_map $block true
#::pct::set_local_address $block:initiatorSocket0_I:targetSocket0_T	 0x0
#::pct::set_local_memory_map_fixed_state $block true

::pct::export_system_library Specification Specification.xml
